@startuml
left to right direction
skinparam packageStyle rectangle

actor "User" as User

rectangle "Meal & Nutrition System" {

  package "Meal Logging" {
    usecase "Log Meal from Storage" as UC_LogStore
    usecase "Log Custom Meal" as UC_LogCustom
    usecase "View Meal History" as UC_History
    usecase "Update Meal" as UC_UpdMeal
    usecase "Delete Meal" as UC_DelMeal
  }

  package "Nutrition & Logic" {
    usecase "Calculate Nutrition" as UC_Calc
    usecase "View Daily Nutrition" as UC_Daily
    usecase "Update Storage Quantity" as UC_UpdStoreQty
  }
}

' User Actions
User --> UC_LogStore
User --> UC_LogCustom
User --> UC_History
User --> UC_Daily

' Logic Relationships
UC_LogStore ..> UC_Calc : <<include>>
UC_LogStore ..> UC_UpdStoreQty : <<include>>
UC_Daily ..> UC_Calc : <<include>>

' Extensions (Actions from history)
UC_History <.. UC_UpdMeal : <<extend>>
UC_History <.. UC_DelMeal : <<extend>>

note right of UC_UpdStoreQty
  Reduces consumed weight
  from storage inventory
end note

@enduml